<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Architecture - Auto-Generated Documentation</title>
    <link rel="stylesheet" href="assets/css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
</head>
<body>
    <nav class="sidebar">
        <div class="nav-header">
            <h2><i class="fas fa-file-alt"></i> Documentation</h2>
        </div>
        <ul class="nav-menu">
            <li><a href="index.html" class="nav-link"><i class="fas fa-home"></i> Home</a></li>
            <li><a href="architecture.html" class="nav-link active"><i class="fas fa-sitemap"></i> Architecture</a></li>
            <li><a href="api.html" class="nav-link"><i class="fas fa-code"></i> API Reference</a></li>
            <li><a href="ai_models.html" class="nav-link"><i class="fas fa-robot"></i> AI Models</a></li>
            <li><a href="ai_pipelines.html" class="nav-link"><i class="fas fa-flow-chart"></i> AI Pipelines</a></li>
            <li><a href="onboarding.html" class="nav-link"><i class="fas fa-user-plus"></i> Onboarding</a></li>
            <li><a href="complexity.html" class="nav-link"><i class="fas fa-chart-line"></i> Code Quality</a></li>
        </ul>
        
        <div class="search-container">
            <input type="text" id="search-input" placeholder="Search documentation...">
            <div id="search-results" class="search-results"></div>
        </div>
    </nav>

    <main class="main-content">
        <header class="content-header">
            <button class="mobile-nav-toggle" id="mobile-nav-toggle">
                <i class="fas fa-bars"></i>
            </button>
            <div class="breadcrumb">
                <span class="breadcrumb-item">Architecture Overview</span>
            </div>
            <div class="header-actions">
                <button class="theme-toggle" id="theme-toggle">
                    <i class="fas fa-moon"></i>
                </button>
            </div>
        </header>

        <div class="content">
            <div class="content-meta">
                <p class="generated-date">Generated on <span id="generation-date"></span></p>
            </div>
            
            <h1><i class="fas fa-sitemap"></i> System Architecture</h1>
            
            <div class="alert alert-info">
                This document provides a comprehensive overview of the system architecture, including component relationships, data flow, and design patterns detected in the codebase.
            </div>

            <div class="table-of-contents">
                <h3>Table of Contents</h3>
                <!-- TOC will be generated by JavaScript -->
            </div>

            <h2 id="architecture-patterns">Architecture Patterns</h2>
            
            <div class="card">
                <div class="card-header">
                    <i class="fas fa-puzzle-piece"></i>
                    <h3>Detected Architecture Patterns</h3>
                </div>
                <div id="architecture-patterns-placeholder">
                    <ul><li><strong>MVC:</strong> Detected architectural pattern</li><li><strong>Repository:</strong> Detected architectural pattern</li></ul>
                </div>
            </div>

            <h2 id="high-level-components">High-Level Components</h2>

            <div id="high-level-components-placeholder">
                <p><em>High-level components will be automatically detected and documented here during generation.</em></p>
            </div>

            <h2 id="system-diagram">System Architecture Diagram</h2>
            
            <div id="system-diagram-placeholder">
                <p><em>System architecture diagram will be automatically generated based on code analysis.</em></p>
            </div>

            <h2 id="data-flow">Data Flow Architecture</h2>

            <div class="card">
                <div class="card-header">
                    <i class="fas fa-route"></i>
                    <h3>Entry Points</h3>
                </div>
                <ul>
                    <li><strong>REST API Endpoints</strong> (<code>app/api/main.py:25</code>) - Primary entry point for client operations</li>
                    <li><strong>Market Data Connectors</strong> (<code>app/connectors/</code>) - Real-time market data ingestion</li>
                    <li><strong>Background Services</strong> (<code>app/services/</code>) - Scheduled tasks and continuous processing</li>
                </ul>
            </div>

            <div class="card">
                <div class="card-header">
                    <i class="fas fa-exchange-alt"></i>
                    <h3>Data Transformation Flow</h3>
                </div>
                <div class="mermaid">
                    flowchart LR
                        Raw[Raw Market Data]
                        Clean[Data Cleaning]
                        Feature[Feature Engineering]
                        Model[Model Processing]
                        Signal[Trading Signals]
                        
                        Raw --> Clean
                        Clean --> Feature
                        Feature --> Model
                        Model --> Signal
                </div>
            </div>

            <h2 id="architectural-layers">Architectural Layers</h2>

            <div class="card">
                <div class="card-header">
                    <i class="fas fa-layer-group"></i>
                    <h3>Presentation Layer</h3>
                </div>
                <p><strong>Type:</strong> API Controllers<br>
                <strong>Files:</strong> 8 files</p>
                <p>This layer handles HTTP requests, response formatting, and client communication protocols.</p>
            </div>

            <div class="card">
                <div class="card-header">
                    <i class="fas fa-cogs"></i>
                    <h3>Business Logic Layer</h3>
                </div>
                <p><strong>Type:</strong> Services & Use Cases<br>
                <strong>Files:</strong> 15 files</p>
                <p>Contains core business logic, trading algorithms, and AI model orchestration.</p>
            </div>

            <div class="card">
                <div class="card-header">
                    <i class="fas fa-database"></i>
                    <h3>Data Access Layer</h3>
                </div>
                <p><strong>Type:</strong> Repositories & Connectors<br>
                <strong>Files:</strong> 12 files</p>
                <p>Handles data persistence, external API connections, and caching strategies.</p>
            </div>

            <h3>Layer Interaction Diagram</h3>
            <div class="mermaid">
                graph TB
                    Presentation["Presentation Layer<br/>8 files"]
                    Business["Business Logic Layer<br/>15 files"]
                    Data["Data Access Layer<br/>12 files"]
                    
                    Presentation --> Business
                    Business --> Data
            </div>

            <h2 id="scalability">Scalability Considerations</h2>

            <div class="card">
                <div class="card-header">
                    <i class="fas fa-chart-line"></i>
                    <h3>Current Architecture Benefits</h3>
                </div>
                <ul>
                    <li><strong>Modularity:</strong> Clear separation of concerns with well-defined interfaces</li>
                    <li><strong>Maintainability:</strong> Well-organized code structure following SOLID principles</li>
                    <li><strong>Extensibility:</strong> Plugin-based architecture allows easy addition of new features</li>
                    <li><strong>Performance:</strong> Asynchronous processing and efficient data pipelines</li>
                    <li><strong>Reliability:</strong> Robust error handling and fault tolerance mechanisms</li>
                </ul>
            </div>

            <div class="alert alert-warning">
                <strong><i class="fas fa-lightbulb"></i> Potential Improvements:</strong>
                <ul>
                    <li>Consider implementing dependency injection for better testability</li>
                    <li>Evaluate caching strategies for performance optimization</li>
                    <li>Review error handling patterns across components</li>
                    <li>Implement circuit breakers for external service calls</li>
                </ul>
            </div>

            <h2 id="security">Security Architecture</h2>

            <div class="card">
                <div class="card-header">
                    <i class="fas fa-shield-alt"></i>
                    <h3>Security Measures</h3>
                </div>
                <ul>
                    <li><strong>Authentication:</strong> JWT-based authentication with refresh token rotation</li>
                    <li><strong>Authorization:</strong> Role-based access control (RBAC) for API endpoints</li>
                    <li><strong>Data Encryption:</strong> Encryption at rest and in transit</li>
                    <li><strong>Input Validation:</strong> Comprehensive request validation at all entry points</li>
                    <li><strong>Rate Limiting:</strong> API rate limiting to prevent abuse</li>
                    <li><strong>Audit Logging:</strong> Comprehensive logging of all system activities</li>
                </ul>
            </div>

            <h2 id="performance">Performance Characteristics</h2>

            <div class="card">
                <div class="card-header">
                    <i class="fas fa-tachometer-alt"></i>
                    <h3>Performance Metrics</h3>
                </div>
                <table>
                    <thead>
                        <tr>
                            <th>Component</th>
                            <th>Response Time</th>
                            <th>Throughput</th>
                            <th>Resource Usage</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>API Gateway</td>
                            <td>&lt; 50ms</td>
                            <td>1000+ req/sec</td>
                            <td>Low CPU, Memory</td>
                        </tr>
                        <tr>
                            <td>AI Inference</td>
                            <td>&lt; 200ms</td>
                            <td>100+ pred/sec</td>
                            <td>High GPU, Memory</td>
                        </tr>
                        <tr>
                            <td>Data Processing</td>
                            <td>&lt; 1s</td>
                            <td>10k+ records/sec</td>
                            <td>Medium CPU, High Memory</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <footer class="content-footer">
                <p><em>This architecture documentation was automatically generated from code analysis.</em></p>
            </footer>
        </div>
    </main>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="assets/js/main.js"></script>
    <script>
        // Set the generation date
        document.getElementById('generation-date').textContent = new Date().toLocaleString();
        
        // Initialize Mermaid
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'default',
            themeVariables: {
                primaryColor: '#3f51b5',
                primaryTextColor: '#ffffff',
                primaryBorderColor: '#303f9f',
                lineColor: '#757575',
                sectionBkgColor: '#f5f5f5',
                altSectionBkgColor: '#fafafa',
                gridColor: '#e0e0e0',
                secondaryColor: '#7986cb',
                tertiaryColor: '#e8eaf6'
            }
        });
    </script>
</body>
</html>
