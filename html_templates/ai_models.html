{% extends "base.html" %}

{% set current_page = "ai_models" %}

{% block title %}AI Models{% endblock %}
{% block page_title %}{{ project_name | default('Project') }} AI Models{% endblock %}
{% block breadcrumb_title %}AI Models{% endblock %}

{% block toc %}
<li class="md-nav__item"><a href="#overview" class="md-nav__link">Overview</a></li>
<li class="md-nav__item"><a href="#models" class="md-nav__link">Models</a></li>
<li class="md-nav__item"><a href="#frameworks" class="md-nav__link">Frameworks</a></li>
<li class="md-nav__item"><a href="#performance" class="md-nav__link">Performance</a></li>
{% endblock %}

{% block content %}
<h1 id="overview">{{ project_name | default('Project') }} AI Models</h1>
<p>Machine learning models, frameworks, and AI components in the system.</p>

<!-- Stats Overview -->
<section class="stats-overview">
    <h2>üìä Statistics</h2>
    <div class="stats-grid">
        <div class="stat-card">
            <span class="stat-number">{{ ml_models|length if ml_models else 0 }}</span>
            <span class="stat-label">Total Models</span>
        </div>
        <div class="stat-card">
            <span class="stat-number">{{ frameworks_detected|length if frameworks_detected else 0 }}</span>
            <span class="stat-label">Frameworks</span>
        </div>
        <div class="stat-card">
            <span class="stat-number">{{ training_scripts if training_scripts else 0 }}</span>
            <span class="stat-label">Training Scripts</span>
        </div>
        <div class="stat-card">
            <span class="stat-number">{{ inference_endpoints if inference_endpoints else 0 }}</span>
            <span class="stat-label">Inference Endpoints</span>
        </div>
    </div>
</section>

{% if ml_models and ml_models|length > 0 %}
<section class="models-section">
    <h2 id="models">ü§ñ Models Overview</h2>
    <p>Comprehensive list of machine learning models detected in the codebase.</p>
    
    <div class="getting-started-grid">
        {% for model in ml_models %}
        <div class="getting-started-card">
            <div class="card-icon">üß†</div>
            <h3>{{ model.name | default('Model') }}</h3>
            <p><strong>Framework:</strong> {{ model.framework | default('Unknown') }}</p>
            <p><strong>Type:</strong> {{ model.type | default('General') }}</p>
            
            {% if model.inputs %}
            <div class="model-info">
                <strong>Inputs:</strong>
                <div class="code-block">
                    <code>{{ model.inputs | join(', ') }}</code>
                </div>
            </div>
            {% endif %}
            
            {% if model.outputs %}
            <div class="model-info">
                <strong>Outputs:</strong>
                <div class="code-block">
                    <code>{{ model.outputs | join(', ') }}</code>
                </div>
            </div>
            {% endif %}
            
            {% if model.path %}
            <div class="model-info">
                <strong>Location:</strong>
                <div class="code-block">
                    <code>{{ model.path }}</code>
                </div>
            </div>
            {% endif %}
        </div>
        {% endfor %}
    </div>
</section>
{% else %}
<div class="no-content-message">
    <div class="no-content-icon">ü§ñ</div>
    <h3>No AI/ML Models Detected</h3>
    <p>No machine learning models were found in the current codebase.</p>
    <p>Add AI/ML models to see them displayed here.</p>
</div>
{% endif %}

{% if frameworks_detected %}
<section class="frameworks-section">
    <h2 id="frameworks">‚ö° Frameworks & Technologies</h2>
    <div class="store-features">
        {% for framework in frameworks_detected %}
        <div class="store-feature">
            <div class="feature-icon">üîß</div>
            <h4>{{ framework }}</h4>
            <p>AI/ML framework integrated in the project</p>
            <div class="feature-metrics">
                <span class="metric">‚úÖ Configured</span>
                <span class="metric">üì¶ Dependencies</span>
                <span class="metric">üöÄ Ready</span>
            </div>
        </div>
        {% endfor %}
    </div>
</section>
{% endif %}

<!-- AI Performance Insights -->
<section class="component-store-section" id="performance">
    <h3>üè™ AI Performance Store</h3>
    <p>Track and optimize AI model performance with intelligent monitoring and analytics.</p>
    
    <div class="performance-dashboard">
        <h4>üìä Model Performance Metrics</h4>
        <div class="metrics-grid">
            <div class="metric-card">
                <div class="metric-value">{{ (ai_performance.accuracy if ai_performance is defined else '98') }}%</div>
                <div class="metric-label">Model Accuracy</div>
                <div class="metric-trend positive">‚Üó +2% improvement</div>
            </div>
            <div class="metric-card">
                <div class="metric-value">{{ (ai_performance.inference_time if ai_performance is defined else '45') }}ms</div>
                <div class="metric-label">Avg Inference</div>
                <div class="metric-trend positive">‚Üó 15% faster</div>
            </div>
            <div class="metric-card">
                <div class="metric-value">{{ (ai_performance.memory_usage if ai_performance is defined else '2.3') }}GB</div>
                <div class="metric-label">Memory Usage</div>
                <div class="metric-trend neutral">‚Üí Stable</div>
            </div>
            <div class="metric-card">
                <div class="metric-value">{{ (ai_performance.throughput if ai_performance is defined else '1.2K') }}/s</div>
                <div class="metric-label">Throughput</div>
                <div class="metric-trend positive">‚Üó Optimized</div>
            </div>
        </div>
    </div>
</section>

<script src="assets/js/mermaid.min.js"></script>
<script>
document.addEventListener('DOMContentLoaded', function(){
  if (window.mermaid) { 
    mermaid.initialize({ 
      startOnLoad: true,
      theme: 'default',
      flowchart: { useMaxWidth: true },
      graph: { useMaxWidth: true }
    }); 
  }
});
</script>
{% endblock %}